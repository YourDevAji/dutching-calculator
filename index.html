<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dutching / Pair Stake Calculator</title>
<style>
:root{
  --bg:#0f1724; --card:#0b1220; --muted:#9aa4b2; --accent:#60a5fa; --glass: rgba(255,255,255,0.04);
  --radius:12px; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
*{box-sizing:border-box}
body{margin:0;background:linear-gradient(180deg,#071020 0%, #081627 100%);color:#e6eef6;min-height:100vh;display:flex;align-items:stretch;justify-content:center;padding:20px;}
.container{max-width:920px;width:100%;}
.header{display:flex;align-items:center;gap:12px;margin-bottom:14px;}
.logo{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#38bdf8);display:flex;align-items:center;justify-content:center;font-weight:700;color:#032;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
h1{font-size:18px;margin:0}
.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:16px;border-radius:var(--radius);box-shadow:0 6px 18px rgba(2,6,23,0.6);}
.grid{display:grid;grid-template-columns:1fr;gap:12px}
.row{display:flex;gap:12px;flex-wrap:wrap}
.input{background:var(--glass);padding:10px;border-radius:10px;flex:1;min-width:120px}
.input label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
.input input, .input select{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;font-size:14px}
.controls{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.btn{background:var(--accent);border:none;color:#032;padding:10px 12px;border-radius:10px;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(96,165,250,0.12)}
.btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
.small{font-size:13px;padding:8px 10px}
.results{margin-top:12px;display:grid;gap:10px}
.table{width:100%;border-collapse:collapse;margin-top:8px}
.table th, .table td{padding:8px 10px;border-bottom:1px dashed rgba(255,255,255,0.03);text-align:left;font-size:14px}
.hint{font-size:13px;color:var(--muted);margin-top:8px}
.footer{font-size:13px;color:var(--muted);margin-top:12px;text-align:center}
@media(min-width:720px){
  .grid{grid-template-columns:360px 1fr}
}
.card p{margin:0}
.kv{display:flex;gap:8px;align-items:center}
.badge{background:rgba(255,255,255,0.03);padding:6px 8px;border-radius:8px;font-size:13px;color:var(--muted)}
.output-box{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.02)}
.profit-positive{color:#4ade80;font-weight:600}
.profit-negative{color:#f87171;font-weight:600}
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="logo">DC</div>
    <div>
      <h1>Dutching / Pair Stake Calculator</h1>
      <div class="hint">Enter your total stake and odds. Choose a pair or let the tool compare pairs. Mobile-friendly — copy stakes to your bookmaker app.</div>
    </div>
  </div>

  <div class="card">
    <div class="grid">
      <div>
        <div style="display:flex;gap:8px;margin-bottom:10px">
          <div class="input" style="flex:0 0 48%">
            <label>Total stake (₦)</label>
            <input id="total" type="number" value="30000" min="1" step="1" />
          </div>
          <div class="input" style="flex:0 0 48%">
            <label>Rounding</label>
            <select id="rounding">
              <option value="1">₦1</option>
              <option value="50">₦50</option>
              <option value="100" selected>₦100</option>
            </select>
          </div>
        </div>

        <div class="input">
          <label>Odds</label>
          <div style="display:flex;gap:8px">
            <input id="oddH" type="number" step="0.01" value="2.25" />
            <input id="oddD" type="number" step="0.01" value="3.00" />
            <input id="oddW" type="number" step="0.01" value="3.60" />
          </div>
          <div class="hint" style="margin-top:8px">Home (H), Draw (D), Away/Win (W). Change values freely.</div>
        </div>

        <div class="input" style="margin-top:10px">
          <label>Choose pair</label>
          <select id="pairSelect">
            <option value="auto">Compare all pairs and show best</option>
            <option value="HD">H & D</option>
            <option value="HW">H & W</option>
            <option value="DW" selected>D & W</option>
          </select>
        </div>

        <div style="margin-top:12px" class="controls">
          <button class="btn" id="compute">Compute</button>
          <button class="btn secondary small" id="minCover">Show Minimum-cover</button>
          <button class="btn secondary small" id="clear">Reset</button>
        </div>

        <div class="hint">Tip: choose a pair to guarantee profit between those two outcomes. If the third outcome happens, you'll lose your stake.</div>
      </div>

      <div>
        <div class="output-box" id="summary">
          <strong>Summary</strong>
          <div id="summaryText" style="margin-top:8px;color:var(--muted)">Press Compute to see stakes and guaranteed returns.</div>
        </div>

        <div class="results" id="results"></div>
      </div>
    </div>

    <div class="footer">Made by <strong>YourDevAji</strong></div>
  </div>
</div>

<script>
function roundTo(n, step){
  step = Number(step) || 1;
  return Math.round(n/step)*step;
}
function fmt(n){ return '₦' + Number(n).toLocaleString(undefined,{maximumFractionDigits:2}); }

function calcEqualPayout(total, a, b, roundingStep){
  const x = (total * b) / (a + b);
  const y = total - x;
  const rx = roundTo(x, roundingStep);
  let ry = total - rx;
  if(ry < 0) { ry = y; }
  const p1 = rx * a;
  const p2 = ry * b;
  return {stakeA:rx, stakeB:ry, payoutA:p1, payoutB:p2};
}

function calcMinCover(total, a, b){
  const minA = total / a;
  const minB = total / b;
  const used = Math.min(total, minA + minB);
  const leftover = Math.max(0, total - (minA + minB));
  return {minA, minB, leftover};
}

function showPair(aLabel, aOdd, bLabel, bOdd, total, rounding){
  const e = calcEqualPayout(total, aOdd, bOdd, rounding);
  const m = calcMinCover(total, aOdd, bOdd);
  const guar = Math.min(e.payoutA,e.payoutB);
  const profit = guar - total;
  const profitClass = profit >= 0 ? "profit-positive" : "profit-negative";

  const html = [];
  html.push('<div class="card">');
  html.push('<div style="display:flex;justify-content:space-between;align-items:center">');
  html.push('<div><strong>'+aLabel+' ('+aOdd+')</strong> &nbsp; <strong>'+bLabel+' ('+bOdd+')</strong></div>');
  html.push('<div class="badge">Guaranteed payout</div></div>');
  html.push('<table class="table"><thead><tr><th>Stake</th><th>Amount</th><th>Return if wins</th></tr></thead><tbody>');
  html.push('<tr><td>'+aLabel+'</td><td>'+fmt(e.stakeA)+'</td><td>'+fmt(e.payoutA)+'</td></tr>');
  html.push('<tr><td>'+bLabel+'</td><td>'+fmt(e.stakeB)+'</td><td>'+fmt(e.payoutB)+'</td></tr>');
  html.push('<tr><td><em>Total stake</em></td><td colspan="2">'+fmt(e.stakeA + e.stakeB)+'</td></tr>');
  html.push('</tbody></table>');
  html.push('<div class="hint">Guaranteed payout: <strong>'+fmt(guar)+'</strong>. Profit = <strong class="'+profitClass+'">'+fmt(profit)+'</strong></div>');
  html.push('<div style="margin-top:8px"><strong>Minimum cover info</strong>');
  html.push('<div class="hint">'+aLabel+': '+fmt(m.minA)+', '+bLabel+': '+fmt(m.minB)+' (Leftover: '+fmt(m.leftover)+')</div>');
  html.push('</div>');
  html.push('</div>');
  return html.join('');
}

document.getElementById('compute').addEventListener('click', ()=>{
  const total = Number(document.getElementById('total').value) || 0;
  const oddH = Number(document.getElementById('oddH').value) || 0;
  const oddD = Number(document.getElementById('oddD').value) || 0;
  const oddW = Number(document.getElementById('oddW').value) || 0;
  const rounding = Number(document.getElementById('rounding').value) || 1;
  const pairSel = document.getElementById('pairSelect').value;

  const resultsDiv = document.getElementById('results');
  const summaryText = document.getElementById('summaryText');
  resultsDiv.innerHTML = '';

  const pairs = [
    {id:'HD', aLabel:'H', bLabel:'D', a:oddH, b:oddD},
    {id:'HW', aLabel:'H', bLabel:'W', a:oddH, b:oddW},
    {id:'DW', aLabel:'D', bLabel:'W', a:oddD, b:oddW},
  ];

  function showOne(p){
    const html = showPair(p.aLabel, p.a, p.bLabel, p.b, total, rounding);
    const wrapper = document.createElement('div');
    wrapper.innerHTML = html;
    resultsDiv.appendChild(wrapper);
  }

  if(pairSel === 'auto'){
    let best = null;
    pairs.forEach(p => {
      const e = calcEqualPayout(total, p.a, p.b, rounding);
      const guar = Math.min(e.payoutA, e.payoutB);
      if(!best || guar > best.guar){ best = {pair:p, guar}; }
    });
    pairs.forEach(p => showOne(p));
    const profit = best.guar - total;
    const profitClass = profit >= 0 ? "profit-positive" : "profit-negative";
    summaryText.innerHTML = 'Best guaranteed pair: <strong>' + best.pair.aLabel + ' & ' + best.pair.bLabel + '</strong> with guaranteed return ≈ <strong>' + fmt(best.guar) + '</strong> (<span class="'+profitClass+'">Profit ≈ ' + fmt(profit) + '</span>).';
  } else {
    const p = pairs.find(x=>x.id === pairSel);
    showOne(p);
    const e = calcEqualPayout(total, p.a, p.b, rounding);
    const guar = Math.min(e.payoutA, e.payoutB);
    const profit = guar - total;
    const profitClass = profit >= 0 ? "profit-positive" : "profit-negative";
    summaryText.innerHTML = 'Pair: <strong>' + p.aLabel + ' & ' + p.bLabel + '</strong>. Guaranteed return ≈ <strong>' + fmt(guar) + '</strong>. Profit ≈ <strong class="'+profitClass+'">' + fmt(profit) + '</strong>.';
  }
});

document.getElementById('minCover').addEventListener('click', ()=>{
  const total = Number(document.getElementById('total').value) || 0;
  const oddH = Number(document.getElementById('oddH').value) || 0;
  const oddD = Number(document.getElementById('oddD').value) || 0;
  const oddW = Number(document.getElementById('oddW').value) || 0;
  const r = calcMinCover(total, oddH, oddD);
  const r2 = calcMinCover(total, oddH, oddW);
  const r3 = calcMinCover(total, oddD, oddW);
  const out = document.getElementById('results');
  out.innerHTML = '<div class="card"><strong>Minimum-cover per pair (break-even)</strong><table class="table"><thead><tr><th>Pair</th><th>Min A</th><th>Min B</th><th>Used total</th><th>Leftover</th></tr></thead><tbody>'
  + '<tr><td>H & D</td><td>'+fmt(r.minA)+'</td><td>'+fmt(r.minB)+'</td><td>'+fmt(r.minA + r.minB)+'</td><td>'+fmt(r.leftover)+'</td></tr>'
  + '<tr><td>H & W</td><td>'+fmt(r2.minA)+'</td><td>'+fmt(r2.minB)+'</td><td>'+fmt(r2.minA + r2.minB)+'</td><td>'+fmt(r2.leftover)+'</td></tr>'
  + '<tr><td>D & W</td><td>'+fmt(r3.minA)+'</td><td>'+fmt(r3.minB)+'</td><td>'+fmt(r3.minA + r3.minB)+'</td><td>'+fmt(r3.leftover)+'</td></tr>'
  + '</tbody></table></div>';
});

document.getElementById('clear').addEventListener('click', ()=>{
  document.getElementById('total').value = 30000;
  document.getElementById('oddH').value = 2.25;
  document.getElementById('oddD').value = 3.00;
  document.getElementById('oddW').value = 3.60;
  document.getElementById('rounding').value = 100;
  document.getElementById('pairSelect').value = 'DW';
  document.getElementById('results').innerHTML='';
  document.getElementById('summaryText').innerHTML = 'Press Compute to see stakes and guaranteed returns.';
});

// auto compute on load
document.getElementById('compute').click();
</script>
</body>
</html>
